---
description: |
  [仕様書作成] テンプレートを基に、指定された機能の仕様書を作成・更新します。
argument_hint: "[作成したい機能や仕様の概要]"
notes: |
  バージョン: 1.0
  仕様書担当: @spec-writer
---
# 仕様書作成コマンド (write-spec)

このコマンドは、`spec-template.md`を雛形として、`@spec-writer`エージェントに指示を出し、`docs/spec.md`を生成・更新します。

## 使用例

```bash
/spec-writer "ユーザーが記事を投稿できる機能"
```

---

## 実行フロー

### ステップ1: 事前チェック

`spec-template.md`ファイルが存在するかを確認します。

- **もし、ファイルが存在しない場合:**
  処理を中断し、「エラー: テンプレートファイル `spec-template.md` が見つかりません。先にテンプレートを作成してください。」と報告してください。

### ステップ2: 仕様書の執筆 (by @spec-writer)

**進捗報告:**
「仕様書の執筆を開始します...」

`@spec-writer`エージェントを呼び出し、ユーザーが引数で指定した機能概要と、テンプレートファイルの内容を渡して、仕様書の執筆を依頼します。

### ステップ3: ユーザーによる最終確認

`@spec-writer`が生成した仕様書の内容をユーザーに提示し、`docs/spec.md`を上書きしてよいか最終確認を求めます。

**確認プロンプト例:**

```bash
以下の内容で `docs/spec.md` を更新します。よろしいですか？ [Y/N]

(ここに生成された仕様書のプレビューが表示される)
```

### ステップ4: ファイルの更新または中止

- **もし、ユーザーが 'Y' を入力した場合:**
  生成された内容で`docs/spec.md`ファイルを上書き保存し、「`docs/spec.md` を更新しました。」と報告します。
- **もし、ユーザーが 'N' を入力した場合:**
  「操作はキャンセルされました。」と報告します。
