---
description: |
  [進捗確認] 現在のタスクリストの進捗と、TDDサイクルのフェーズを表示します。
notes: |
  バージョン: 1.0
  状態管理: @state-manager
---
# Flow: 進捗確認コマンド (flow-status)

このコマンドは、現在のプロジェクトの進捗状況を要約して表示します。
具体的には、`.flow/tasks.md`と`.flow/state.json`の内容を解析し、開発の「現在地」を明確にします。

## 使用例

```bash
/flow-status
```

---

## 実行フロー

### ステップ1: 事前チェック

まず、`.flow`ディレクトリと状態ファイル（`tasks.md`, `state.json`）が存在するかを確認します。

- **もし、状態ファイルが存在しない場合:**
    処理を中断し、「エラー: `flow`プロジェクトが初期化されていません。`/flow-init`コマンドでプロジェクトを開始してください。」と報告してください。

### ステップ2: 状態の要約表示 (by @state-manager)

`@state-manager`エージェントを呼び出し、現在のプロジェクト状態の完全なレポートを生成させます。

@state-manager

- **Operation:** status
- **Details:** 現在の状態を詳細に要約して報告してください。

`@state-manager`は、以下の情報を含むレポートを生成します。

- **進捗サマリー:** 全タスク数、完了タスク数、進捗率（%）
- **現在のフェーズ:** `red`, `green`, `refactor` のいずれか
- **現在のタスク:** 今まさに取り組んでいるタスク
- **次のタスクリスト:** これから取り組む予定のタスク（最大5件）

### ステップ3: 最終報告

`@state-manager`からのレポートを受け取り、それをユーザーに表示します。
最後に、次に行うべきアクションのヒントを提示します。

- **もし、未完了のタスクが残っている場合:**
    「次のステップに進むには、`/flow-next`を実行してください。」と案内します。
- **もし、全てのタスクが完了している場合:**
    「🎉 全てのタスクが完了しました！プロジェクトの完成です。」と報告します。
