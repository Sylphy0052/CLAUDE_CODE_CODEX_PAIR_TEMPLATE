---
description: |
  Codexにコードの生成を依頼し、指定ファイルに保存後、Claudeのレビューエージェントでレビューします。
argument_hint: "[実装したい内容] [出力ファイル名] [追加要件 (任意)]"
notes: |
  バージョン: 1.0
  実装担当: @codex-implementer
  レビュー担当: @code-reviewer
---
# Codexによる単発実装 & Claudeレビュー

このコマンドは、Codexのコード生成能力を活用して、ユーザーの指示に基づいたコードを迅速に作成し、その品質をClaudeのレビューエージェントで確認するパイプラインです。

## ⚠️ 警告 (Warning)

このコマンドは、指定された出力ファイルが既に存在する場合、**警告なしに上書きします。** 既存のファイルを指定しないように十分ご注意ください。

## 前提条件

- 主な対象言語はPython 3.10以上です。
- 生成されるコードはPEP8に準拠し、主要な静的解析ツール（flake8, mypyなど）のチェックをパスすることが推奨されます。

## 使用例

```bash
/impl-codex "FastAPIで簡単なCRUD APIを実装" "src/main.py"
/impl-codex "2つの数値を足す関数" "src/utils/add.py" "型ヒントを必ず付与し、テストコードも生成"
```

---

## 実行フロー

### ステップ1: 実装工程 (by @codex-implementer)

**進捗報告:**
「実装工程を開始します...」

@codex-implementer

- **実装内容:** `$1`
- **出力ファイル:** `$2`
- **追加要件:** `$3`

**成功時報告:**
「実装工程が完了しました。ファイル `$2` にコードを生成しました。」

**エラー処理:**
もし実装に失敗した場合は、「**実装工程が失敗しました。** エラー内容：<エラー詳細>」と報告し、以降の工程を中止してください。

---

### ステップ2: レビュー工程と結果の保存 (by @code-reviewer)

**進捗報告:**
「レビュー工程を開始します...」

@code-reviewer

- **対象ファイル:** `$2`
- **レビュー結果の出力先:** `$2.review.md`

レビューが完了したら、その結果をコンソールに出力すると同時に、**`$2.review.md`** という名前のファイルに保存してください。

**成功時報告:**
「レビュー工程が完了し、結果を `$2.review.md` に保存しました。」

**エラー処理:**
もしレビューに失敗した場合は、「**レビュー工程を実行できません。** 原因：<ファイルの状態やエラー詳細>」と報告してください。
