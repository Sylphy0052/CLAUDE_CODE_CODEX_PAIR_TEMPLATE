---
description: |
  [自動Gitコミット] 現在の変更をAIが完全に自動で分析し、日本語のConventional Commitメッセージを生成した後、**`git add .`と`git commit`を実行します**。
argument_hint: "[コミットメッセージのヒント (任意)]"
notes: |
  バージョン: 3.0
  担当: 内部AI処理 + **git操作実行**
---
# 自動Gitコミットと実行コマンド (ccommit)

## 概要

`/ccommit` コマンドは、現在の作業ディレクトリ内のファイル変更を自動で検出し、AIがその変更内容を理解して**Conventional Commits規約**に沿った最適なコミットメッセージを生成・記録し、**その後、実際のGitコミット操作を実行する**ためのコマンドです。

**このコマンドは、`git add .`と`git commit -m "..."`を自動で実行します。**

## 使用例

```bash

# 変更内容を自動解析し、Gitコミットを実行

/ccommit

# AIにヒントを与えて、より意図に沿ったコミットメッセージを生成して実行

/ccommit "新しいユーザー管理機能を実装"
```

---

## 実行フロー

### ステップ1: 差分の検出

- 作業ディレクトリ内の変更を解析し、コミット対象のファイルを特定します。
- 比較対象は、直近のGit履歴または保存状態を参照します。
- 新規作成・変更・削除の一覧を抽出し、内容を要約します。

**進捗報告:**
「現在の変更をスキャン中です...」

---

### ステップ2: AIによるコミットメッセージ生成

1. 変更要約とオプションのヒントを入力としてAIに渡します。
2. AIは変更意図を推測し、**Conventional Commit**形式でメッセージを生成します。

```
<type>(<scope>): <概要>
<詳細説明>
```

**進捗報告:**
「変更内容を解析し、最適なConventional Commitメッセージを生成しています...」

---

### ステップ3: Gitコマンドの実行 🚀

生成されたメッセージ（例: `fix(api): ユーザー取得時のバリデーション不具合を修正`）を使用して、以下のGitコマンドを**自動で実行**します。

1. **ステージング**: `git add .`
2. **コミット**: `git commit -m "<生成されたメッセージ>"`

**進捗報告:**
「生成されたメッセージでGitコミットを実行しています...」

---

### ステップ4: 実行結果の報告

最終的に、Gitコマンドの実行結果、生成したコミットメッセージをユーザーに報告します。

**完了報告例:**

```
✅ Gitコミットを完了しました。
Message: fix(api): ユーザー取得時のバリデーション不具合を修正

--- Git実行結果 ---
[main 7300c0a] fix(api): ユーザー取得時のバリデーション不具合を修正
 3 files changed, 20 insertions(+), 8 deletions(-)
```

---

## 備考

- **実行には、作業ディレクトリがGitリポジトリとして初期化されている必要があります。**
- **コミット前に意図しないファイルがステージングされないよう、`.gitignore`の設定を推奨します。**
