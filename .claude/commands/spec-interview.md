---
description: |
  [対話型 仕様書作成] 1問1答形式で対話し、仕様書を段階的に作成・更新します。中断からの再開も可能です。
argument_hint: "[作成したい機能の名称 (初回のみ)]"
notes: |
  バージョン: 1.0
  対話担当: @spec-interviewer
---
# 対話型 仕様書作成コマンド (spec-interview)

このコマンドは、`@spec-interviewer`エージェントを呼び出し、ユーザーとの1問1答の対話を通じて`docs/spec.md`を段階的に完成させます。
対話の途中で中断しても、再度コマンドを実行すれば中断箇所から再開できます。

## 使用例

```bash
# 初めて仕様書を作成する場合

/spec-interview "ユーザーのプロフィール編集機能"

# 作成を中断した後、再開する場合

/spec-interview
```

---

## 実行フロー

このコマンドは、内部で対話ループを実行します。

### ステップ1: 初期化

`@spec-interviewer`を呼び出し、`docs/spec.md`の存在チェックと、もし存在しない場合は`spec-template.md`からの新規作成を依頼します。
このとき、初回のみユーザーが指定した機能名称をファイルに反映させます。

### ステップ2: 対話ループの開始

`@spec-interviewer`が「完了」を報告するまで、以下の処理を繰り返します。

1. **AIによる質問**:
    `@spec-interviewer`を呼び出します。エージェントは`docs/spec.md`を読み込み、次に尋ねるべき質問を自動で判断してユーザーに問いかけます。

2. **ユーザーによる応答**:
    ユーザーはAIの質問に対して、自然言語で回答します。

3. **AIによるファイル更新**:
    `@spec-interviewer`はユーザーの回答を受け取り、その内容で`docs/spec.md`ファイルを更新・上書き保存します。進捗があったことをユーザーに簡潔に報告します。（例：「ありがとうございます。『スコープ』を更新しました。」）

### ステップ3: 完了報告

`@spec-interviewer`がすべての項目が埋まったと判断したら、ループを終了します。
最後に「仕様書の作成が完了しました。`docs/spec.md`をご確認ください。」とユーザーに報告して、すべてのプロセスを終了します。
